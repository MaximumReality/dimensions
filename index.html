<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Maximum Reality: City Hack</title>
    <style>
        :root {
            --city-tint: rgba(255, 0, 255, 0.2); /* Change this to cast any color */
            --neon-blue: #00ffff;
        }

        body, html {
            margin: 0; padding: 0;
            width: 100%; height: 100%;
            overflow: hidden; background: #000;
        }

        #game-stage {
            width: 100vw; height: 100vh;
            position: relative;
            /* Gradient Gray Background with a Color Cast */
            background: linear-gradient(var(--city-tint), var(--city-tint)), url('gg-bg.png');
            background-size: cover;
            background-blend-mode: overlay;
        }

        /* Layered Building System */
        .building {
            position: absolute;
            bottom: 15vh;
            background-repeat: no-repeat;
            background-size: contain;
            background-position: bottom;
        }

        /* C is Tallest (Back Layer - Slower) */
        .layer-c { height: 70vh; width: 300px; z-index: 1; opacity: 0.6; }
        /* B is Mid (Middle Layer) */
        .layer-b { height: 50vh; width: 200px; z-index: 2; opacity: 0.8; }
        /* A is Smallest (Front Layer - Faster) */
        .layer-a { height: 30vh; width: 150px; z-index: 3; }

        #floor {
            position: absolute; bottom: 0;
            width: 100%; height: 15vh;
            background: url('floor.png') repeat-x;
            background-size: contain; z-index: 10;
        }

        #lori-commander {
            position: absolute; bottom: 12vh; left: 5vw;
            height: 45vh; z-index: 20;
        }

        #azul-hacker {
            position: absolute; bottom: 12vh; left: 28vw;
            width: 100px; height: 100px;
            background-size: contain; background-repeat: no-repeat;
            z-index: 21;
            animation: azul-run 0.4s steps(1) infinite;
        }

        @keyframes azul-run {
            0% { background-image: url('Azul-run.png'); }
            33% { background-image: url('Azul-run2.png'); }
            66% { background-image: url('Azul-run3.png'); }
            100% { background-image: url('Azul-run.png'); }
        }

        .scenery-prop {
            position: absolute; bottom: 12vh; height: 50px; z-index: 15;
        }
    </style>
</head>
<body>

<div id="game-stage">
    <img src="Banner.PNG" style="position:absolute; top:0; width:100%; z-index:100;">
    
    <div id="floor"></div>
    <img src="lori-suit.png" id="lori-commander">
    <div id="azul-hacker"></div>
</div>

<script>
    const stage = document.getElementById('game-stage');

    function createBuilding(type) {
        const b = document.createElement('div');
        b.className = `building layer-${type}`;
        b.style.backgroundImage = `url('building-${type}.png')`;
        b.style.right = '-400px';
        stage.appendChild(b);

        let pos = -400;
        // Parallax speeds: A is fastest, C is slowest
        const speeds = { 'a': 6, 'b': 4, 'c': 2 };
        const speed = speeds[type];

        const move = setInterval(() => {
            pos += speed;
            b.style.right = pos + 'px';
            if (pos > window.innerWidth + 400) {
                clearInterval(move);
                b.remove();
            }
        }, 16);
    }

    function spawnProp() {
        const props = ['dumpster.png', 'litter-box.png', 'cardboard_tank.png', 'mochkil-burger.png'];
        const p = document.createElement('img');
        p.src = props[Math.floor(Math.random() * props.length)];
        p.className = 'scenery-prop';
        p.style.right = '-100px';
        stage.appendChild(p);

        let pos = -100;
        const move = setInterval(() => {
            pos += 8; // Props move fastest for ground-level speed feel
            p.style.right = pos + 'px';
            if (pos > window.innerWidth + 200) { clearInterval(move); p.remove(); }
        }, 16);
    }

    // Spawn buildings at different rates to maintain layers
    setInterval(() => createBuilding('c'), 4000);
    setInterval(() => createBuilding('b'), 3000);
    setInterval(() => createBuilding('a'), 2000);
    setInterval(spawnProp, 1500);

    // Randomly change the city tint to show "The Hack"
    setInterval(() => {
        const colors = ['rgba(255,0,255,0.2)', 'rgba(0,255,255,0.2)', 'rgba(255,255,0,0.1)'];
        document.documentElement.style.setProperty('--city-tint', colors[Math.floor(Math.random()*colors.length)]);
    }, 5000);
</script>

</body>
</html>
